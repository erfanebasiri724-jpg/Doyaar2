<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ú©Ø§ÙÙ‡ Ø¨Ø³ØªÙ†ÛŒ Ø¯ÙˆÛŒØ§Ø±</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#fff; color:#333; direction:rtl; }
header { background:#ff8c00; padding:15px; text-align:center; font-size:2em; font-weight:bold; color:#fff; }
#searchBar { width:90%; max-width:400px; margin:10px auto; display:block; padding:8px; border-radius:5px; border:1px solid #ccc; text-align:right; }
.details-category { margin:10px; border:1px solid #ccc; border-radius:5px; padding:5px; }
summary { font-weight:bold; cursor:pointer; padding:5px; background:#ff8c00; color:#fff; border-radius:5px; }
.product-card { border:1px solid #ccc; border-radius:8px; padding:10px; margin:5px; display:flex; justify-content:space-between; align-items:center; background:#f9f9f9; }
.product-card button { padding:5px 8px; cursor:pointer; }
.product-card .added-tick { color:green; font-weight:bold; display:none; margin-left:5px; }
#cartBtn { position:fixed; top:15px; left:15px; background-color:#ff8c00; border:none; padding:10px; border-radius:50%; font-size:1.2em; cursor:pointer; color:#fff; z-index:1000; }
#cartCount { position:absolute; top:-5px; left:-5px; background:red; color:#fff; font-size:0.8em; width:20px; height:20px; border-radius:50%; display:flex; justify-content:center; align-items:center; }
#cart { position:fixed; top:60px; left:15px; width:270px; max-height:80%; overflow-y:auto; background:#fff; border:1px solid #ccc; padding:10px; display:none; z-index:999; }
.cart-item { display:flex; justify-content:space-between; margin-bottom:5px; align-items:center; }
.cart-item button { padding:2px 5px; cursor:pointer; }
#invoicePrint {display:none;}
</style>
</head>
<body>
<header>Ú©Ø§ÙÙ‡ Ø¨Ø³ØªÙ†ÛŒ Ø¯ÙˆÛŒØ§Ø±</header>
<input type="text" id="searchBar" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„...">
<div id="categories"></div>
<button id="cartBtn">ğŸ›’<span id="cartCount">0</span></button>
<div id="cart">
<h3>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
<div id="cartItems"></div>
<div>Ø¬Ù…Ø¹ Ú©Ù„: <span id="cartTotal">0</span> ØªÙˆÙ…Ø§Ù†</div>
<button id="printBtn">Ú†Ø§Ù¾ ÙØ§Ú©ØªÙˆØ±</button>
</div>

<div id="invoicePrint">
<h2 style="text-align:center">Ø±Ø³ÛŒØ¯ Ø®Ø±ÛŒØ¯</h2>
<table style="width:100%;border-collapse:collapse" border="1">
<thead>
<tr><th>Ù…Ø­ØµÙˆÙ„</th><th>ØªØ¹Ø¯Ø§Ø¯</th><th>Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯</th><th>Ø¬Ù…Ø¹</th></tr>
</thead>
<tbody id="invBody"></tbody>
</table>
<p>Ø¬Ù…Ø¹ Ú©Ù„: <span id="invTotal"></span> ØªÙˆÙ…Ø§Ù†</p>
<p id="invDate"></p>
</div>

<script>
// Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§
const categoriesData = ["Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§","ÙØ§Ù„ÙˆØ¯Ù‡â€ŒÙ‡Ø§","Ø´ÛŒØ±Ù‡Ø§ Ùˆ Ø´ÛŒÚ©â€ŒÙ‡Ø§","Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§","Ù…Ø¹Ø¬ÙˆÙ† Ùˆ Ú©ÛŒÚ© Ø¨Ø³ØªÙ†ÛŒ","Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§","Ø°Ø±Øªâ€ŒÙ‡Ø§","Ù…ØªÙØ±Ù‚Ù‡","Ø¨Ø·Ø±ÛŒâ€ŒÙ‡Ø§"];
// Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©Ø§Ù…Ù„
const productsData = [
{name:"Ø¨Ø³ØªÙ†ÛŒ Ø³Ù†ØªÛŒ Ø¨Ø¯ÙˆÙ† Ù…ØºØ²", price:220000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø³ØªÙ†ÛŒ Ø³Ù†ØªÛŒ Ù…ØºØ²Ø¯Ø§Ø±", price:260000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø³ØªÙ†ÛŒ Ø³Ù†ØªÛŒ Ù„ÛŒÙˆØ§Ù†ÛŒ", price:40000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø³ØªÙ†ÛŒ Ø³Ù†ØªÛŒ Ø­ØµÛŒØ±ÛŒ", price:40000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¢Ø¨ Ù‡ÙˆÛŒØ¬ Ø¨Ø³ØªÙ†ÛŒ", price:60000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø·Ø§Ù„Ø¨ÛŒ Ø¨Ø³ØªÙ†ÛŒ", price:70000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø³ØªÙ†ÛŒ Ù‚ÛŒÙÛŒ ÙˆØ§Ù†ÛŒÙ„ÛŒ", price:35000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø³ØªÙ†ÛŒ Ù‚ÛŒÙÛŒ ÙˆØ§Ù†ÛŒÙ„ Ú©Ø§Ú©Ø§Ø¦Ùˆ", price:40000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø³ØªÙ†ÛŒ Ø¯Ø³ØªÚ¯Ø§Ù‡ÛŒ Ù„ÛŒÙˆØ§Ù† Ø¨Ø²Ø±Ú¯", price:50000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø³ØªÙ†ÛŒ Ø¯Ø³ØªÚ¯Ø§Ù‡ÛŒ Ù„ÛŒÙˆØ§Ù† Ú©ÙˆÚ†Ú©", price:40000, category:"Ø¨Ø³ØªÙ†ÛŒâ€ŒÙ‡Ø§"},
{name:"ÙØ§Ù„ÙˆØ¯Ù‡", price:50000, category:"ÙØ§Ù„ÙˆØ¯Ù‡â€ŒÙ‡Ø§"},
{name:"ÙØ§Ù„ÙˆØ¯Ù‡ Ø¨Ø³ØªÙ†ÛŒ", price:70000, category:"ÙØ§Ù„ÙˆØ¯Ù‡â€ŒÙ‡Ø§"},
{name:"Ø´ÛŒØ± Ù…ÙˆØ²", price:80000, category:"Ø´ÛŒØ±Ù‡Ø§ Ùˆ Ø´ÛŒÚ©â€ŒÙ‡Ø§"},
{name:"Ø´ÛŒØ± Ù…ÙˆØ² Ø®Ø±Ù…Ø§", price:120000, category:"Ø´ÛŒØ±Ù‡Ø§ Ùˆ Ø´ÛŒÚ©â€ŒÙ‡Ø§"},
{name:"Ø´ÛŒØ± Ù…ÙˆØ² Ú¯Ø±Ø¯Ùˆ", price:150000, category:"Ø´ÛŒØ±Ù‡Ø§ Ùˆ Ø´ÛŒÚ©â€ŒÙ‡Ø§"},
{name:"Ø´ÛŒØ± Ù¾Ø³ØªÙ‡", price:150000, category:"Ø´ÛŒØ±Ù‡Ø§ Ùˆ Ø´ÛŒÚ©â€ŒÙ‡Ø§"},
{name:"Ø´ÛŒØ± Ø§Ù†Ø¨Ù‡", price:180000, category:"Ø´ÛŒØ±Ù‡Ø§ Ùˆ Ø´ÛŒÚ©â€ŒÙ‡Ø§"},
{name:"Ø´ÛŒÚ©", price:120000, category:"Ø´ÛŒØ±Ù‡Ø§ Ùˆ Ø´ÛŒÚ©â€ŒÙ‡Ø§"},
{name:"Ø¢ÛŒØ³ Ù¾Ú©", price:120000, category:"Ø´ÛŒØ±Ù‡Ø§ Ùˆ Ø´ÛŒÚ©â€ŒÙ‡Ø§"},
{name:"Ø¢Ø¨ Ù‡ÙˆÛŒØ¬", price:40000, category:"Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¢Ø¨ Ø§Ù†Ø§Ø±", price:90000, category:"Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¢Ø¨ Ø²Ø±Ø´Ú©", price:90000, category:"Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¢Ø¨ Ø³ÛŒØ¨", price:70000, category:"Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¢Ø¨ Ù‡Ù†Ø¯ÙˆØ§Ù†Ù‡", price:60000, category:"Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¢Ø¨ Ø·Ø§Ù„Ø¨ÛŒ", price:60000, category:"Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¢Ø¨ Ø¢Ù„Ø¨Ø§Ù„Ùˆ", price:60000, category:"Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ú©ÛŒÚ© Ø¨Ø³ØªÙ†ÛŒ Ù„ÛŒÙˆØ§Ù†ÛŒ", price:70000, category:"Ù…Ø¹Ø¬ÙˆÙ† Ùˆ Ú©ÛŒÚ© Ø¨Ø³ØªÙ†ÛŒ"},
{name:"Ú©ÛŒÚ© Ø¨Ø³ØªÙ†ÛŒ Ù…Ø®ØµÙˆØµ", price:150000, category:"Ù…Ø¹Ø¬ÙˆÙ† Ùˆ Ú©ÛŒÚ© Ø¨Ø³ØªÙ†ÛŒ"},
{name:"Ù…Ø¹Ø¬ÙˆÙ† Ù„ÛŒÙˆØ§Ù†ÛŒ", price:160000, category:"Ù…Ø¹Ø¬ÙˆÙ† Ùˆ Ú©ÛŒÚ© Ø¨Ø³ØªÙ†ÛŒ"},
{name:"Ù…Ø¹Ø¬ÙˆÙ† Ú©Ø§Ø³Ù‡â€ŒØ§ÛŒ Ú©ÙˆÚ†Ú©", price:180000, category:"Ù…Ø¹Ø¬ÙˆÙ† Ùˆ Ú©ÛŒÚ© Ø¨Ø³ØªÙ†ÛŒ"},
{name:"Ù…Ø¹Ø¬ÙˆÙ† Ú©Ø§Ø³Ù‡â€ŒØ§ÛŒ Ø¨Ø²Ø±Ú¯", price:250000, category:"Ù…Ø¹Ø¬ÙˆÙ† Ùˆ Ú©ÛŒÚ© Ø¨Ø³ØªÙ†ÛŒ"},
{name:"Ø³ÛŒÙ†Ú¯Ù„", price:40000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¯Ø¨Ù„", price:50000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¢ÙÙˆÚ¯Ø§ØªÙˆ", price:80000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ù‡Ø§Øª Ú†Ø§Ú©Ù„Øª", price:90000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ú©Ø§Ù¾ÙˆÚ†ÛŒÙ†Ùˆ", price:80000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ù…Ø§Ø³Ø§Ù„Ø§", price:80000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ù†Ø³Ú©Ø§ÙÙ‡", price:75000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ù„Ø§ØªÙ‡", price:85000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø¢ÛŒØ³ Ù„Ø§ØªÙ‡", price:90000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø§Ù…Ø±ÛŒÚ©Ø§Ù†Ùˆ", price:70000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø§ÛŒØ³ Ø§Ù…Ø±ÛŒÚ©Ø§Ù†Ùˆ", price:80000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ú©Ø§Ø±Ø§Ù…Ù„ Ù…Ø§Ú©ÛŒØ§ØªÙˆ", price:90000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ù…ÙˆÚ©Ø§", price:90000, category:"Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§"},
{name:"Ø°Ø±Øª Ù…Ú©Ø²ÛŒÚ©ÛŒ Ú©ÙˆÚ†Ú©", price:90000, category:"Ø°Ø±Øªâ€ŒÙ‡Ø§"},
{name:"Ø°Ø±Øª Ù…Ú©Ø²ÛŒÚ©ÛŒ Ø¨Ø²Ø±Ú¯", price:130000, category:"Ø°Ø±Øªâ€ŒÙ‡Ø§"},
{name:"Ú©ÛŒÚ© Ø´Ú©Ù„Ø§ØªÛŒ", price:90000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ø¢Ø¨ Ù…Ø¹Ø¯Ù†ÛŒ Ú©ÙˆÚ†Ú©", price:10000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ø¢Ø¨ Ù…Ø¹Ø¯Ù†ÛŒ Ø¨Ø²Ø±Ú¯", price:15000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ù„Ø§ÛŒÙ", price:50000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ù‡Ø§ÛŒÙ¾", price:60000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ú©ÛŒÙ†Ú¯", price:45000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ú©Ø±ÙˆÙ†Ø§", price:150000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"ÙˆÛŒØªØ§Ù…ÛŒÙ† Ø³ÛŒ", price:40000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯ÛŒØ§Ù‡ÛŒ", price:40000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯ÛŒØ§Ù‡ÛŒ Ø²Ø¹ÙØ±Ø§Ù†ÛŒ", price:45000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ø¢ÛŒØ³ Ù…Ø§Ù†Ú©ÛŒ", price:50000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ø¢Ù„ÙˆÙˆØ±Ø§", price:42000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ù„ÛŒÙ…ÙˆÙ†Ø§Ø¯ Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ", price:35000, category:"Ù…ØªÙØ±Ù‚Ù‡"},
{name:"Ø¨Ø·Ø±ÛŒ Û± Ù„ÛŒØªØ±ÛŒ Ø¢Ø¨ Ù‡ÙˆÛŒØ¬", price:80000, category:"Ø¨Ø·Ø±ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø·Ø±ÛŒ Û± Ù„ÛŒØªØ±ÛŒ Ø¢Ø¨ Ø·Ø§Ù„Ø¨ÛŒ", price:140000, category:"Ø¨Ø·Ø±ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø·Ø±ÛŒ Û± Ù„ÛŒØªØ±ÛŒ Ø¢Ø¨ Ø³ÛŒØ¨", price:180000, category:"Ø¨Ø·Ø±ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø·Ø±ÛŒ Û± Ù„ÛŒØªØ±ÛŒ Ø¢Ø¨ Ù‡Ù†Ø¯ÙˆØ§Ù†Ù‡", price:120000, category:"Ø¨Ø·Ø±ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø·Ø±ÛŒ Û± Ù„ÛŒØªØ±ÛŒ Ø¢Ø¨ Ù¾Ø±ØªØºØ§Ù„", price:200000, category:"Ø¨Ø·Ø±ÛŒâ€ŒÙ‡Ø§"},
{name:"Ø¨Ø·Ø±ÛŒ Û± Ù„ÛŒØªØ±ÛŒ Ø´ÛŒØ± Ù…ÙˆØ²", price:180000, category:"Ø¨Ø·Ø±ÛŒâ€ŒÙ‡Ø§"}
];

let cart=[];

const categoriesDiv=document.getElementById('categories');
const cartBtn=document.getElementById('cartBtn');
const cartDiv=document.getElementById('cart');
const cartItemsDiv=document.getElementById('cartItems');
const cartTotal=document.getElementById('cartTotal');
const cartCount=document.getElementById('cartCount');
const searchBar=document.getElementById('searchBar');
const printBtn=document.getElementById('printBtn');

function renderCategories(filteredProducts){
categoriesDiv.innerHTML='';
categoriesData.forEach(cat=>{
const det=document.createElement('details');
det.className='details-category';
const sum=document.createElement('summary');
sum.textContent=cat;
det.appendChild(sum);
const container=document.createElement('div');
container.className='products-container';
det.appendChild(container);
categoriesDiv.appendChild(det);
const products=filteredProducts.filter(p=>p.category===cat);
products.forEach(p=>{
const card=document.createElement('div');
card.className='product-card';
card.innerHTML=`<div>${p.name}</div><div>${p.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div><button>â•</button><span class="added-tick">âœ”</span>`;
const btn=card.querySelector('button');
const tick=card.querySelector('.added-tick');
btn.addEventListener('click', ()=>{
const existing=cart.find(it=>it.name===p.name);
if(existing){existing.qty++;}else{cart.push({name:p.name,price:p.price,qty:1});}
tick.style.display='inline';
setTimeout(()=>tick.style.display='none',300);
renderCart();
});
container.appendChild(card);
});
});
}

function renderCart(){
cartItemsDiv.innerHTML='';
let total=0;
cart.forEach((item,index)=>{
const div=document.createElement('div');
div.className='cart-item';
div.innerHTML=`<span>${item.name}</span>
<div>
<button class="minus">-</button>
<span style="margin:0 5px">${item.qty}</span>
<button class="plus">+</button>
</div>`;
div.querySelector('.minus').addEventListener('click',()=>{
if(item.qty>1){item.qty--;}else{cart.splice(index,1);}
renderCart();
});
div.querySelector('.plus').addEventListener('click',()=>{
item.qty++;
renderCart();
});
cartItemsDiv.appendChild(div);
total+=item.price*item.qty;
});
cartTotal.textContent=total.toLocaleString();
cartCount.textContent=cart.reduce((acc,it)=>acc+it.qty,0);
}

cartBtn.addEventListener('click', ()=>{ cartDiv.style.display = cartDiv.style.display==='none'?'block':'none'; });

searchBar.addEventListener('input', ()=>{
const term=searchBar.value.trim();
const filtered=productsData.filter(p=>p.name.includes(term));
renderCategories(filtered);
});

// Ú†Ø§Ù¾ ÙØ§Ú©ØªÙˆØ±
printBtn.addEventListener('click', ()=>{
const invBody=document.getElementById('invBody');
const invTotal=document.getElementById('invTotal');
const invDate=document.getElementById('invDate');
invBody.innerHTML='';
let total=0;
cart.forEach(it=>{
const tr=document.createElement('tr');
tr.innerHTML=`<td style="text-align:right">${it.name}</td><td>${it.qty}</td><td>${it.price.toLocaleString()}</td><td>${(it.price*it.qty).toLocaleString()}</td>`;
invBody.appendChild(tr);
total+=it.price*it.qty;
});
invTotal.textContent=total.toLocaleString();
invDate.textContent=new Date().toLocaleString();
const printContent=document.getElementById('invoicePrint').innerHTML;
const newWin=window.open('','', 'width=400,height=600');
newWin.document.write('<html><head><title>Ø±Ø³ÛŒØ¯</title></head><body>'+printContent+'</body></html>');
newWin.document.close(); newWin.focus(); newWin.print(); newWin.close();
});

renderCategories(productsData);
</script>
</body>
</html>
